---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: synthos
description: synth.download's customized coreos image

# use universal blue's ucore as our base ~ https://github.com/ublue-os/ucore
base-image: ghcr.io/ublue-os/ucore-minimal
image-version: stable

# modules ~ refer to https://blue-build.org/learn/getting-started/
modules:
  - from-file: packages/dnf.yml # packages
  - from-file: files/synthos.yml # files

  - type: script
    snippets:
      - "semanage port -a -t ssh_port_t -p tcp 6720" # assign selinux the new ssh port

  - type: signing # finalize